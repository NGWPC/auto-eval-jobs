id: hand_inundator
description: Generates flood inundation extents using HAND methodology and NWM forecasts
outputTransmission:
  - reference
arguments:
  window_size:
    title: Processing Window Size
    description: Tile dimensions for raster processing (pixels)
    schema:
      type: integer
      minimum: 256
      maximum: 4096
      default: 1024
inputs:
  catchment:
    title: Catchment Metadata
    description: JSON file containing catchment properties and rating curve for each hydro-id in catchment
    schema:
      type: string
      format: uri
      contentMediaType: application/json
  forecast:
    title: Flow Forecast
    description: CSV file with NWM discharge predictions
    schema:
      type: string
      format: uri
      contentMediaType: text/csv
  rem_raster:
    title: HAND REM
    description: Relative Elevation Model raster
    schema:
      type: string
      format: uri
      contentMediaType: image/tiff; application=geotiff
  catchment_raster:
    title: Catchment ID Raster
    description: Raster mapping pixels to catchment IDs
    schema:
      type: string
      format: uri
      contentMediaType: image/tiff; application=geotiff
outputs:
  inundation_raster:
    title: Inundation Map
    description: Binary flood extent raster (1=inundated, 0=non-inundated) in CONUS Albers (EPSG:5070)
    schema:
      type: string
      format: uri
      contentMediaType: image/tiff; application=geotiff
    parameters:
      compression: lzw
      dtype: uint8
      nodata: 255
      crs: 
        const: EPSG:5070
        description: Albers Equal Area Continental US projection
